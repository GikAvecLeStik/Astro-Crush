#include <SFML/Graphics.hpp>
#include "Player.hpp"
#include "Menu.hpp"
#include <cmath>
int main()
{
    
   

    sf::RenderWindow window(sf::VideoMode(1280, 720), "SFML works!");
    
    Player player;
    Menu menu(window.getSize().x, window.getSize().y);
    
    while (window.isOpen())
    {
        
        sf::Event event;
        while (window.pollEvent(event))
        {
            if (event.type == sf::Event::Closed)
            {
                window.close();
            }

            if (event.type == sf::Event::KeyReleased)
            {
                if (event.key.code == sf::Keyboard::W)
                {
                    menu.moveUp();
                    break;
                }

                if (event.key.code == sf::Keyboard::S)
                {
                    menu.moveDown();
                    break;
                }

                if (event.key.code == sf::Keyboard::Return);
                {
                    sf::RenderWindow Jugar(sf::VideoMode(1280, 720), "Astro");
                    sf::RenderWindow Creditos(sf::VideoMode(1280, 720), "SFML works!");
                    sf::RenderWindow Intrucciones(sf::VideoMode(1280, 720), "SFML works!");
                    int d = menu.menuPressed();
                    if (d == 0)
                    {
                        while (Jugar.isOpen())
                        {
                            sf::Event aevent;
                            while (Jugar.pollEvent(aevent))
                            {
                                if (aevent.type == sf::Event::Closed)
                                {
                                    Jugar.close();
                                }
                                if (aevent.type == sf::Event::KeyReleased)
                                {
                                    if (aevent.key.code == sf::Keyboard::Escape);
                                    {
                                        Jugar.close();
                                    }
                                }
                            }
                            Creditos.close();
                            Intrucciones.close();
                            Jugar.clear();
                            Jugar.display();
                        }
                    }
                    if (d == 1)
                    {
                        while (Intrucciones.isOpen())
                        {
                            sf::Event aevent;
                            while (Intrucciones.pollEvent(aevent))
                            {
                                if (aevent.type == sf::Event::Closed)
                                {
                                    Intrucciones.close();
                                }
                                if (aevent.type == sf::Event::KeyReleased)
                                {
                                    if (aevent.key.code == sf::Keyboard::Escape);
                                    {
                                        Intrucciones.close();
                                    }
                                }
                            }
                            Creditos.close();
                            Jugar.close();
                            Intrucciones.clear();
                            Intrucciones.display();
                        }
                    }
                    if (d == 2)
                    {
                        while (Creditos.isOpen())
                        {
                            sf::Event aevent;
                            while (Creditos.pollEvent(aevent))
                            {
                                if (aevent.type == sf::Event::Closed)
                                {
                                    Creditos.close();
                                }
                                if (aevent.type == sf::Event::KeyReleased)
                                {
                                    if (aevent.key.code == sf::Keyboard::Escape);
                                    {
                                        Creditos.close();
                                    }
                                }
                            }
                            Intrucciones.close();
                            Jugar.close();
                            Creditos.clear();
                            Creditos.display();
                        }
                    }
                    if (d = 3)
                        window.close();
                    break;
                }
            }
        }            
        window.clear();       
        menu.drawMenu(window);
        window.display();
    }
    return 0;
}
